let menSection = {
    "Topwear": {
        "T-Shirts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Causal Shirts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Formal Shirts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sweatshirts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
    },
    "Indian & Festive Wear": {
        "Kurtas & Kurta Sets": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sherwanis": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Nehru Jackets": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Dhotis": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    "Bottomwear": {
        "Jeans": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Casual Trousers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Formal Trousers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Shorts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Track Pants & Joggers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    "Innerwear & Sleepwear": {
        "Briefs & Trunks": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Boxers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Vests": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sleepwear & Longwear": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Thermals": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    // "Plus Size": "",
    "Footwear": {
        "Casual Shoes": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sports Shoes": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Formal Shoes": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sneakers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sandals & Floaters": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Flip Flop": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Socks": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    // "Personal Care & G:rooming": "",
    // "Sunglasses & Frames": "",
    // "Watches": "",
    "Sports & Active Wear": {
        "Sports Shoes": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sports Sandals": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Active T-Shirts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Track Pants & Shorts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Tracksuits": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Jackets & Sweatshirts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sports Accessories": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Swimwear": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    "Gadgets": {
        "Smart Wearables": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Fitness Gadgets": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Headphones": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Speakers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    "Fashion Accessories": {
        "Wallets": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Belts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Perfunes & Body Mist": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Trimmers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Deodorants": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Ties,Cuffflinks & Pocket Squares": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Accessory Gift Sets": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Caps & Hats": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Mufflers,Scarves & Gloves": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Phone Cases": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Rings & Wristwear": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Helmets": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    // "Bags & Bagpacks": "",
    // "Luggages & Trolleys": ""
}

let womenSection = {
    "Indian & Fusion Wear": {
        "Kurtas & Suits":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Kurtis":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Tunics & Tops":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Ethnic Wear":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Leggings, Salwars & Churidars":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Skirts & Palazzos":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sarees Dress Materials":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Lehenga Cholis":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Dupattas & Shawls":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Jackets":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    "Western Wear": {
        "Dresses":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Jumpsuits":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Tops":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Jeans":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Trousers & Capris":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Shorts & Skirts":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Shrugs":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sweaters & Sweatshirts":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Jackets & Coats":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Blazers & Waistcoats":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    // "Plus Size": "",
    // "Sunglasses & Frames": "",
    "Footwear": {
        "Flats":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Casual Shoes":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Heels":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Boots":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sports Shoes & Floaters":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    "Sports & Active Wear": {
        "Clothing":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Footwear":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sports Accessories":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sports Equipment":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    // "Belts, Scarves & More": "",
    // "Watches & Wearables": "",
    "Lingerie & Sleepwear": {
        "Bra":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Briefs":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Shapewear":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        },
    // "Beauty & Personal Care": ["Makeup", "Skincare", "Premium Beauty", "Lipsticks", "Fragrances"],
    // "Gadgets": ["Smart Wearables", "Fitness Gadgets", "Headphones", "Speakers"],
    // "Jewellery": ["Fashion Jewellery", "Fine Jewellery", "Earrings"],
    // "Backpacks": "",
    // "Handbags, Bags & Wallets": "",
    // "Luggages & Trolleys": ""
}

let kidsSection = {
    // "Boys Clothing": ["T-Shirts", "Shirts", "Shorts", "Jeans", "Trousers", "Clothing Sets", "Ethnic Wear", "Track Pants & Pyjamas", "Jacket, Sweater & Sweatshirts", "Innerwear & Sleepwear"],
    // "Girls Clothing": ["Dresses", "Tops", "Tshirts", "Clothing Sets", "Ethnic wear", "Dungarees & Jumpsuits", "Skirts & shorts", "Tights & Leggings", "Jeans, Trousers & Capris", "Jacket, Sweater & Sweatshirts", "Innerwear & Sleepwear"],
    // "Boys Footwear": ["Casual Shoes", "Sports Shoes", "Sandals", "Flip flops", "School Shoes"],
    // "Girls Footwear": ["Flats", "Casual Shoes", "Sports Shoes", "Heels", "Flip flops", "Sandals", "School Shoes"],
    // "Infants": ["Rompers & Onesies", "Clothing Sets", "Tshirts & Tops", "Dresses", "Bottom wear", "Winter Wear", "Innerwear & Sleepwear", "Infants Accessories"],
    // "Kids Accessories": ["Bags & Backpacks", "Watches", "Jewellery & Hair Accessories", "Eyewear"]
    "Topwear": {
        "T-Shirts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Causal Shirts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Formal Shirts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sweatshirts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
    },
    "Indian & Festive Wear": {
        "Kurtas & Kurta Sets": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sherwanis": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Nehru Jackets": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Dhotis": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    "Bottomwear": {
        "Jeans": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Casual Trousers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Formal Trousers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Shorts": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Track Pants & Joggers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    "Innerwear & Sleepwear": {
        "Briefs & Trunks": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Boxers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Vests": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sleepwear & Longwear": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Thermals": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    // "Plus Size": "",
    "Footwear": {
        "Casual Shoes": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sports Shoes": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Formal Shoes": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sneakers": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sandals & Floaters": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Flip Flop": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Socks": ["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
}

let homeAndLivingSection = {
    // "Bed Linen & Furnishing": ["Bedsheets", "Bedding Sets", "Blankets, Quilts & Dohars", "Pillows & Pillow Covers", "Bed Covers"],
    // "Flooring": ["Carpets", "Floor Mats & Dhurries", "Door Mats"],
    // "Bath": ["Bath Towels", "Hand & Face Towels", "Beach Towels", "Towels Set", "Bath Rugs", "Bath Robes", "Bathroom Accessories"],
    // "Lamps & Lighting": ["Floor Lamps", "Table Lamps", "Wall Lamps"],
    // "Home Décor": ["Plants & Planters", "Aromas & Candles", "Clocks", "Mirrors", "Wall Décor", "Wall Shelves", "Fountains", "Showpieces & Vases", "Cushions & Cushion Covers", "Curtains"],
    "Indian & Fusion Wear": {
        "Kurtas & Suits":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Kurtis":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Tunics & Tops":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Ethnic Wear":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Leggings, Salwars & Churidars":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Skirts & Palazzos":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sarees Dress Materials":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Lehenga Cholis":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Dupattas & Shawls":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Jackets":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    "Western Wear": {
        "Dresses":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Jumpsuits":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Tops":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Jeans":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Trousers & Capris":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Shorts & Skirts":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Shrugs":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sweaters & Sweatshirts":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Jackets & Coats":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Blazers & Waistcoats":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    // "Plus Size": "",
    // "Sunglasses & Frames": "",
    "Footwear": {
        "Flats":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Casual Shoes":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Heels":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Boots":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sports Shoes & Floaters":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    "Sports & Active Wear": {
        "Clothing":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Footwear":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sports Accessories":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Sports Equipment":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"]
    },
    // "Belts, Scarves & More": "",
    // "Watches & Wearables": "",
    "Lingerie & Sleepwear": {
        "Bra":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Briefs":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        "Shapewear":["Puma", "Addidas", "Roadster", "Nike", "UCB", "HRX"],
        },
}

let offersSection = {
    "Kurtas & Kurta Sets At Flat 60% Off": "",
    "Shoes At Min 50%": "",
    "T-Shirts At Min 50%": "",
    "Jeans At Min 50%": "",
    "Heels & Flats Under 999": "",
    "Shirts At Min 50%": "",
    "Jeans At Min 50%": "",
    "Tops At Min 60%": "",
    "Dresses Under 1299": ""
}

const navItems = document.querySelectorAll('.nav-items');
[...navItems].map((navItem)=>{
    navItem.addEventListener("click", showClothes);
});

window.addEventListener('click', function (event) {
    if (event.target.id == 'background-fade' || event.target.id == 'navbar')
        hideClothes();
});

document.getElementById('closeButton').addEventListener('click', hideClothes);

function parsingItems(itemName) {
    let uniqueValue = 1;

    if (itemName == 'men')
        section(menSection,uniqueValue);
    else if (itemName == 'women')
        section(womenSection,uniqueValue); 
    else if (itemName == 'kids')
        section(kidsSection,uniqueValue);
    else if (itemName == 'homeandliving')
        section(homeAndLivingSection,uniqueValue);
    else if (itemName == 'offers') {
        const offersJsonData = Object.keys(offersSection);
        const offersJsonValue = Object.values(offersSection);
        let htmz = "";
        const checkEmpty = (ele) => ele === '';
        if (!offersJsonValue.every(checkEmpty)) {
            offersJsonData.map((offerKeys,index)=>{
                if (offersSection[offerKeys] != '') {
                    htmz += (index % 2 != 0) ? `<ul class='items items-even'>` : `<ul class='items items-odd'>`;
                    htmz += `<li class='item-category' style='color:#f26a10'>${offerKeys}</li>
                            <ul class='item-sub-category'>`;
                    offersSection[offerKeys].map((value)=>{
                        htmz += `<li><a href=''>${value}</a></li>`;
                    })
                    htmz += `<hr class='hr-line'>
                            </ul>
                            </ul>`;
                }
            });
            document.getElementById("items-data").innerHTML = htmz;
        }else
            document.getElementById("items-data").innerHTML = "<div style='text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:green;opacity:0.7;'>We Don't have any offers right now for you!!!</div>";
    }
}

let section = (sectionValue,uniqueValue)=>{
    let htmz = "";
    const sectionData = Object.keys(sectionValue);
    sectionData.map((value,index)=>{
            htmz += (index % 2 != 0) ? `<ul class='items items-even'>` : `<ul class='items items-odd'>`;
            htmz += `<li class='item-category' style='color:#ee5f73'>${value}</li>
                    <ul class='item-sub-category'>`;
            for (const [key, value] of Object.entries(sectionValue[sectionData[index]])) {
                let clothesKey = key;
                let clothesValue = value;
                htmz += `<li class='' onclick=toggleData('${uniqueValue}')><a href='#'>${clothesKey}<i class='fas fa-chevron-down'></a></i></li>
                        <div id=${uniqueValue} class='dropdown-content'>`;
                
                [...clothesValue].map(value => {
                    htmz += `<li style='margin-left:15px;'><a href='#'>${value}</a></li>`;
                });
                uniqueValue++;
                htmz += `</div>`;
            }

            htmz += `<hr class='hr-line'>
                    </ul>
                    </ul>`;
        });
        uniqueValue++;
        document.getElementById("items-data").innerHTML = htmz;
}

const sectionArray = ['men','women','kids','homeandliving','offers'];

const toggleActive = (sectionValue,currentElement)=>{
    currentElement.classList.add('active');
    sectionArray.map((ele)=>{
        if(sectionValue != ele){
            document.getElementById(ele).classList.remove('active');
        }
    });    
}

function showClothes(event) {
    let show = 'visibility:visible;opacity:1;transition: all .6s ease-out;'
    parsingItems(event.target.dataset.value);

    toggleActive(event.target.dataset.value, this);
    document.getElementById("item-box").style.cssText = show;
    document.getElementById("background-fade").style.visibility = 'visible';
    document.getElementById('closeButton').style.visibility = 'visible';
}

function hideClothes() {
    let hide = 'visibility:hidden;opacity:0;transition: all .5s ease-out;';
    document.getElementById("item-box").style.cssText = hide;
    document.getElementById("background-fade").style.visibility = 'hidden';
    document.getElementById('closeButton').style.visibility = 'hidden';

    /*hiding if any active class is there*/
    sectionArray.map((ele)=>{
        document.getElementById(ele).classList.remove('active');
    });
}

function toggleData(id) {
    const showValue = document.getElementById(id).classList.toggle("show");
    
    if(this.event.target.nodeName == 'A' || this.event.target.nodeName == 'I')
        this.event.target.parentElement.classList.toggle('item-bolded');
    else
        this.event.target.firstElementChild.classList.toggle('item-bolded');
      
    if(showValue){
        if(this.event.target.firstElementChild)
            this.event.target.firstElementChild.style.transform = 'rotate(0deg)';
        else    
            this.event.target.style.transform = 'rotate(0deg)';
    }
    else{
        if(this.event.target.firstElementChild)
            this.event.target.firstElementChild.style.transform = 'rotate(-90deg)';
        else    
            this.event.target.style.transform = 'rotate(-90deg)';
    }
}